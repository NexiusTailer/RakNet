<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RakNet: RakNet::Connection_RM2 Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceRakNet.html">RakNet</a>::<a class="el" href="classRakNet_1_1Connection__RM2.html">Connection_RM2</a>
  </div>
</div>
<div class="contents">
<h1>RakNet::Connection_RM2 Class Reference<br>
<small>
[<a class="el" href="group__REPLICA__MANAGER__2__GROUP.html">ReplicaManager2</a>]</small>
</h1><!-- doxytag: class="RakNet::Connection_RM2" -->This class represents a connection between two instances of <a class="el" href="classRakNet_1_1ReplicaManager2.html" title="A management system for your game objects and players to make serialization, scoping...">ReplicaManager2</a>.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;ReplicaManager2.h&gt;</code>
<p>

<p>
<a href="classRakNet_1_1Connection__RM2-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#53ca89413bed3c8a928568be8d7e71fa">Construct</a> (<a class="el" href="classRakNet_1_1BitStream.html">RakNet::BitStream</a> *replicaData, <a class="el" href="structSystemAddress.html">SystemAddress</a> sender, <a class="el" href="group__REPLICA__MANAGER__2__GROUP.html#g7e1e22ee6206552dc62613e6caf027c4">SerializationType</a> type, <a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *replicaManager, RakNetTime timestamp, NetworkID networkId, bool networkIDCollision)=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#23f646215720c7bcf0a3862e73fad780">SortInitialDownload</a> (const <a class="el" href="classDataStructures_1_1List.html">DataStructures::List</a>&lt; <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a> * &gt; &amp;orderedDownloadList, <a class="el" href="classDataStructures_1_1List.html">DataStructures::List</a>&lt; <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a> * &gt; &amp;initialDownloadList)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#860bdf05b6e538424919173d6e1292ce">SerializeDownloadStarted</a> (<a class="el" href="classRakNet_1_1BitStream.html">RakNet::BitStream</a> *objectData, <a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *replicaManager, <a class="el" href="structRakNet_1_1SerializationContext.html">SerializationContext</a> *serializationContext)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#f16854c6d1ca2b0a3568a5be3ce63e89">SerializeDownloadComplete</a> (<a class="el" href="classRakNet_1_1BitStream.html">RakNet::BitStream</a> *objectData, <a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *replicaManager, <a class="el" href="structRakNet_1_1SerializationContext.html">SerializationContext</a> *serializationContext)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#bbd0f135199d9fb47a57df9abca3d7c2">DeserializeDownloadStarted</a> (<a class="el" href="classRakNet_1_1BitStream.html">RakNet::BitStream</a> *objectData, <a class="el" href="structSystemAddress.html">SystemAddress</a> sender, <a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *replicaManager, RakNetTime timestamp, <a class="el" href="group__REPLICA__MANAGER__2__GROUP.html#g7e1e22ee6206552dc62613e6caf027c4">SerializationType</a> serializationType)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#5f265088ffcfdabb4f2053cf99484edb">DeserializeDownloadComplete</a> (<a class="el" href="classRakNet_1_1BitStream.html">RakNet::BitStream</a> *objectData, <a class="el" href="structSystemAddress.html">SystemAddress</a> sender, <a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *replicaManager, RakNetTime timestamp, <a class="el" href="group__REPLICA__MANAGER__2__GROUP.html#g7e1e22ee6206552dc62613e6caf027c4">SerializationType</a> serializationType)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#b23b645fd22e6b1fbdf0537e7eb1a5f2">SetConstructionByList</a> (<a class="el" href="classDataStructures_1_1OrderedList.html">DataStructures::OrderedList</a>&lt; <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a> *, <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a> *, ReplicaManager2::Replica2ObjectComp &gt; &amp;currentVisibility, <a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *replicaManager)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#0ed83e43ca006a9eaa371fa17e2a025a">SetVisibilityByList</a> (<a class="el" href="classDataStructures_1_1OrderedList.html">DataStructures::OrderedList</a>&lt; <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a> *, <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a> *, ReplicaManager2::Replica2ObjectComp &gt; &amp;currentVisibility, <a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *replicaManager)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#ab9f315cf38531c28cf1e20fee3f89e1">SetConstructionByReplicaQuery</a> (<a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *replicaManager)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#49aaa062d9125875d1240693e83f6c96">SetVisibilityByReplicaQuery</a> (<a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *replicaManager)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cba4eb820eabed554bc9b295d5b4dbc4"></a><!-- doxytag: member="RakNet::Connection_RM2::SetSystemAddress" ref="cba4eb820eabed554bc9b295d5b4dbc4" args="(SystemAddress sa)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#cba4eb820eabed554bc9b295d5b4dbc4">SetSystemAddress</a> (<a class="el" href="structSystemAddress.html">SystemAddress</a> sa)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the system address to use with this class instance. This is set internally when the object is created. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="732edb44c781d29ba06f96fb742fa5ec"></a><!-- doxytag: member="RakNet::Connection_RM2::GetSystemAddress" ref="732edb44c781d29ba06f96fb742fa5ec" args="(void) const " -->
<a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#732edb44c781d29ba06f96fb742fa5ec">GetSystemAddress</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the system address associated with this class instance. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="273eb70cd1f1548e82d92aedf23e89c5"></a><!-- doxytag: member="RakNet::Connection_RM2::SetGuid" ref="273eb70cd1f1548e82d92aedf23e89c5" args="(RakNetGUID guid)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#273eb70cd1f1548e82d92aedf23e89c5">SetGuid</a> (<a class="el" href="structRakNetGUID.html">RakNetGUID</a> guid)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the guid to use with this class instance. This is set internally when the object is created. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ecfcb8200a5e7a747b4c1eeca001a111"></a><!-- doxytag: member="RakNet::Connection_RM2::GetGuid" ref="ecfcb8200a5e7a747b4c1eeca001a111" args="(void) const " -->
<a class="el" href="structRakNetGUID.html">RakNetGUID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRakNet_1_1Connection__RM2.html#ecfcb8200a5e7a747b4c1eeca001a111">GetGuid</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the guid associated with this class instance. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class represents a connection between two instances of <a class="el" href="classRakNet_1_1ReplicaManager2.html" title="A management system for your game objects and players to make serialization, scoping...">ReplicaManager2</a>. 
<p>
Represents a connection. Allocated by user supplied factory interface <a class="el" href="classRakNet_1_1Connection__RM2Factory.html" title="Implement this factory class to return instances of your Connection_RM2 derived object...">Connection_RM2Factory</a>.<br>
 Implicitly created as needed.<br>
 Generally you will want to implement at a minimum the <a class="el" href="classRakNet_1_1Connection__RM2.html#53ca89413bed3c8a928568be8d7e71fa">Construct()</a> function, used as a factory function to create your game objects. <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="53ca89413bed3c8a928568be8d7e71fa"></a><!-- doxytag: member="RakNet::Connection_RM2::Construct" ref="53ca89413bed3c8a928568be8d7e71fa" args="(RakNet::BitStream *replicaData, SystemAddress sender, SerializationType type, ReplicaManager2 *replicaManager, RakNetTime timestamp, NetworkID networkId, bool networkIDCollision)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a>* RakNet::Connection_RM2::Construct           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1BitStream.html">RakNet::BitStream</a> *&nbsp;</td>
          <td class="paramname"> <em>replicaData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__REPLICA__MANAGER__2__GROUP.html#g7e1e22ee6206552dc62613e6caf027c4">SerializationType</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *&nbsp;</td>
          <td class="paramname"> <em>replicaManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RakNetTime&nbsp;</td>
          <td class="paramname"> <em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NetworkID&nbsp;</td>
          <td class="paramname"> <em>networkId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>networkIDCollision</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Factory function, used to create instances of your game objects Encoding is entirely up to you. <em>replicaData</em> will hold whatever was written <em>bitStream</em> in <a class="el" href="classRakNet_1_1Replica2.html#2f8ec1c1f1ff0fce71462fad3f60ce24">Replica2::SerializeConstruction()</a> One efficient way to do it is to use <a class="el" href="StringTable_8h.html" title="A simple class to encode and decode known strings based on a lookup table. Similar...">StringTable.h</a>. This allows you to send predetermined strings over the network at a cost of 9 bits, up to 65536 strings <dl class="note" compact><dt><b>Note:</b></dt><dd>The object is not yet referenced by <a class="el" href="classRakNet_1_1ReplicaManager2.html" title="A management system for your game objects and players to make serialization, scoping...">ReplicaManager2</a> in this callback. Use <a class="el" href="classRakNet_1_1Replica2.html#2be3dfbaf679433ee9151feed066ca8f">Replica2::OnConstructionComplete()</a> to perform functionality such as AutoSerialize() </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>replicaData</em>&nbsp;</td><td>Whatever was written <em>bitStream</em> in <a class="el" href="classRakNet_1_1Replica2.html#2f8ec1c1f1ff0fce71462fad3f60ce24">Replica2::SerializeConstruction()</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>type</em>&nbsp;</td><td>Whatever was written <em>serializationType</em> in <a class="el" href="classRakNet_1_1Replica2.html#2f8ec1c1f1ff0fce71462fad3f60ce24">Replica2::SerializeConstruction()</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>replicaManager</em>&nbsp;</td><td><a class="el" href="classRakNet_1_1ReplicaManager2.html" title="A management system for your game objects and players to make serialization, scoping...">ReplicaManager2</a> instance that created this class. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timestamp</em>&nbsp;</td><td>timestamp sent with <a class="el" href="classRakNet_1_1Replica2.html#2f8ec1c1f1ff0fce71462fad3f60ce24">Replica2::SerializeConstruction()</a>, 0 for none. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>networkId</em>&nbsp;</td><td>NetworkID that will be assigned automatically to the new object after this function returns </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>networkIDCollision</em>&nbsp;</td><td>True if the network ID that should be assigned to this object is already in use. Usuallly this is because the object already exists, and you should just read your data and return 0. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Return 0 to signal that construction failed or was refused for this object. Otherwise return the object that was created. A reference will be held to this object, and SetNetworkID() and SetReplicaManager() will be called automatically. </dd></dl>

</div>
</div><p>
<a class="anchor" name="5f265088ffcfdabb4f2053cf99484edb"></a><!-- doxytag: member="RakNet::Connection_RM2::DeserializeDownloadComplete" ref="5f265088ffcfdabb4f2053cf99484edb" args="(RakNet::BitStream *objectData, SystemAddress sender, ReplicaManager2 *replicaManager, RakNetTime timestamp, SerializationType serializationType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RakNet::Connection_RM2::DeserializeDownloadComplete           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1BitStream.html">RakNet::BitStream</a> *&nbsp;</td>
          <td class="paramname"> <em>objectData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *&nbsp;</td>
          <td class="paramname"> <em>replicaManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RakNetTime&nbsp;</td>
          <td class="paramname"> <em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__REPLICA__MANAGER__2__GROUP.html#g7e1e22ee6206552dc62613e6caf027c4">SerializationType</a>&nbsp;</td>
          <td class="paramname"> <em>serializationType</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
CALLBACK: A new connection was added. All objects that are constructed and visible for this system have now arrived. Write data to <em>objectData</em> by deriving from SerializeDownloadComplete <dl class="note" compact><dt><b>Note:</b></dt><dd>Only called if SetAutoUpdateScope is called with serializationVisiblity or construction true. (This is the default) </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>objectData</em>&nbsp;</td><td>objectData Data written through <a class="el" href="classRakNet_1_1Connection__RM2.html#f16854c6d1ca2b0a3568a5be3ce63e89">SerializeDownloadComplete()</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>replicaManager</em>&nbsp;</td><td>Which replica manager to use to perform the send </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timestamp</em>&nbsp;</td><td>timestamp sent, 0 for none </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>serializationType</em>&nbsp;</td><td>Type of command </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="bbd0f135199d9fb47a57df9abca3d7c2"></a><!-- doxytag: member="RakNet::Connection_RM2::DeserializeDownloadStarted" ref="bbd0f135199d9fb47a57df9abca3d7c2" args="(RakNet::BitStream *objectData, SystemAddress sender, ReplicaManager2 *replicaManager, RakNetTime timestamp, SerializationType serializationType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RakNet::Connection_RM2::DeserializeDownloadStarted           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1BitStream.html">RakNet::BitStream</a> *&nbsp;</td>
          <td class="paramname"> <em>objectData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *&nbsp;</td>
          <td class="paramname"> <em>replicaManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RakNetTime&nbsp;</td>
          <td class="paramname"> <em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__REPLICA__MANAGER__2__GROUP.html#g7e1e22ee6206552dc62613e6caf027c4">SerializationType</a>&nbsp;</td>
          <td class="paramname"> <em>serializationType</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
CALLBACK: A new connection was added. All objects that are constructed and visible for this system will arrive immediately after this message. Write data to <em>objectData</em> by deriving from <a class="el" href="classRakNet_1_1Connection__RM2.html#860bdf05b6e538424919173d6e1292ce">SerializeDownloadStarted()</a> <dl class="note" compact><dt><b>Note:</b></dt><dd>Only called if SetAutoUpdateScope is called with serializationVisiblity or construction true. (This is the default) </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>objectData</em>&nbsp;</td><td>objectData Data written through <a class="el" href="classRakNet_1_1Connection__RM2.html#860bdf05b6e538424919173d6e1292ce">SerializeDownloadStarted()</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>replicaManager</em>&nbsp;</td><td>Which replica manager to use to perform the send </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timestamp</em>&nbsp;</td><td>timestamp sent, 0 for none </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>serializationType</em>&nbsp;</td><td>Type of command </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f16854c6d1ca2b0a3568a5be3ce63e89"></a><!-- doxytag: member="RakNet::Connection_RM2::SerializeDownloadComplete" ref="f16854c6d1ca2b0a3568a5be3ce63e89" args="(RakNet::BitStream *objectData, ReplicaManager2 *replicaManager, SerializationContext *serializationContext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RakNet::Connection_RM2::SerializeDownloadComplete           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1BitStream.html">RakNet::BitStream</a> *&nbsp;</td>
          <td class="paramname"> <em>objectData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *&nbsp;</td>
          <td class="paramname"> <em>replicaManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1SerializationContext.html">SerializationContext</a> *&nbsp;</td>
          <td class="paramname"> <em>serializationContext</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
CALLBACK: Called after a download is sent to a new connection <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>objectData</em>&nbsp;</td><td>What data you want to send to DeSerializeDownloadComplete() </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>replicaManager</em>&nbsp;</td><td>Which replica manager to use to perform the send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>in/out]</em>&nbsp;</td><td>serializationContext Target recipient, optional timestamp, type of command </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="860bdf05b6e538424919173d6e1292ce"></a><!-- doxytag: member="RakNet::Connection_RM2::SerializeDownloadStarted" ref="860bdf05b6e538424919173d6e1292ce" args="(RakNet::BitStream *objectData, ReplicaManager2 *replicaManager, SerializationContext *serializationContext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RakNet::Connection_RM2::SerializeDownloadStarted           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1BitStream.html">RakNet::BitStream</a> *&nbsp;</td>
          <td class="paramname"> <em>objectData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *&nbsp;</td>
          <td class="paramname"> <em>replicaManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRakNet_1_1SerializationContext.html">SerializationContext</a> *&nbsp;</td>
          <td class="paramname"> <em>serializationContext</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
CALLBACK: Called before a download is sent to a new connection <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>objectData</em>&nbsp;</td><td>What data you want to send to DeSerializeDownloadStarted() </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>replicaManager</em>&nbsp;</td><td>Which replica manager to use to perform the send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>in/out]</em>&nbsp;</td><td>serializationContext Target recipient, optional timestamp, type of command </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b23b645fd22e6b1fbdf0537e7eb1a5f2"></a><!-- doxytag: member="RakNet::Connection_RM2::SetConstructionByList" ref="b23b645fd22e6b1fbdf0537e7eb1a5f2" args="(DataStructures::OrderedList&lt; Replica2 *, Replica2 *, ReplicaManager2::Replica2ObjectComp &gt; &amp;currentVisibility, ReplicaManager2 *replicaManager)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RakNet::Connection_RM2::SetConstructionByList           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDataStructures_1_1OrderedList.html">DataStructures::OrderedList</a>&lt; <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a> *, <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a> *, ReplicaManager2::Replica2ObjectComp &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>currentVisibility</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *&nbsp;</td>
          <td class="paramname"> <em>replicaManager</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given a list of objects, compare it against lastConstructionList. BroadcastConstruct() is called for objects that only exist in the new list. BroadcastDestruct() is called for objects that only exist in the old list. This is used by <a class="el" href="classRakNet_1_1Connection__RM2.html#ab9f315cf38531c28cf1e20fee3f89e1">SetConstructionByReplicaQuery()</a> for all <a class="el" href="classRakNet_1_1Replica2.html" title="Base class for game objects that use the ReplicaManager2 system.">Replica2</a> that do not return BQR_ALWAYS from <a class="el" href="classRakNet_1_1Replica2.html#2cca30967ddd2e5b8377a95b346d2317">Replica2::QueryConstruction()</a> If you want to pass your own, more efficient list to check against, call <a class="el" href="classRakNet_1_1ReplicaManager2.html#0d48604d0e8d17220057c985903b162a">ReplicaManager2::SetAutoUpdateScope</a> with construction=false and call this function yourself when desired <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>List</em>&nbsp;</td><td>of all objects that do not return BQR_ALWAYS from <a class="el" href="classRakNet_1_1Replica2.html#2cca30967ddd2e5b8377a95b346d2317">Replica2::QueryConstruction()</a> that should currently be created on this system </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>replicaManager</em>&nbsp;</td><td>Which replica manager to use to perform the send </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ab9f315cf38531c28cf1e20fee3f89e1"></a><!-- doxytag: member="RakNet::Connection_RM2::SetConstructionByReplicaQuery" ref="ab9f315cf38531c28cf1e20fee3f89e1" args="(ReplicaManager2 *replicaManager)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RakNet::Connection_RM2::SetConstructionByReplicaQuery           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *&nbsp;</td>
          <td class="paramname"> <em>replicaManager</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Go through all registered <a class="el" href="classRakNet_1_1Replica2.html" title="Base class for game objects that use the ReplicaManager2 system.">Replica2</a> objects that do not return BQR_ALWAYS from <a class="el" href="classRakNet_1_1Replica2.html#2cca30967ddd2e5b8377a95b346d2317">Replica2::QueryConstruction()</a> For each of these objects that return BQR_YES, pass them to currentVisibility in <a class="el" href="classRakNet_1_1Connection__RM2.html#b23b645fd22e6b1fbdf0537e7eb1a5f2">SetConstructionByList()</a> Automatically called every tick if <a class="el" href="classRakNet_1_1ReplicaManager2.html#0d48604d0e8d17220057c985903b162a">ReplicaManager2::SetAutoUpdateScope</a> with construction=true is called (which is the default) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>replicaManager</em>&nbsp;</td><td>Which replica manager to use to perform the send </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="0ed83e43ca006a9eaa371fa17e2a025a"></a><!-- doxytag: member="RakNet::Connection_RM2::SetVisibilityByList" ref="0ed83e43ca006a9eaa371fa17e2a025a" args="(DataStructures::OrderedList&lt; Replica2 *, Replica2 *, ReplicaManager2::Replica2ObjectComp &gt; &amp;currentVisibility, ReplicaManager2 *replicaManager)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RakNet::Connection_RM2::SetVisibilityByList           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDataStructures_1_1OrderedList.html">DataStructures::OrderedList</a>&lt; <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a> *, <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a> *, ReplicaManager2::Replica2ObjectComp &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>currentVisibility</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *&nbsp;</td>
          <td class="paramname"> <em>replicaManager</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given a list of objects, compare it against lastSerializationList. Replica2::BroadcastVisibility(true) is called for objects that only exist in the new list. Replica2::BroadcastVisibility(false) is called for objects that only exist in the old list. This is used by <a class="el" href="classRakNet_1_1Connection__RM2.html#49aaa062d9125875d1240693e83f6c96">SetVisibilityByReplicaQuery()</a> for all <a class="el" href="classRakNet_1_1Replica2.html" title="Base class for game objects that use the ReplicaManager2 system.">Replica2</a> that do not return BQR_ALWAYS from <a class="el" href="classRakNet_1_1Replica2.html#04d509bba37494a2c0d76041b617dbcf">Replica2::QueryVisibility()</a> If you want to pass your own, more efficient list to check against, call <a class="el" href="classRakNet_1_1ReplicaManager2.html#0d48604d0e8d17220057c985903b162a">ReplicaManager2::SetAutoUpdateScope</a> with construction=false and call this function yourself when desired <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>List</em>&nbsp;</td><td>of all objects that do not return BQR_ALWAYS from <a class="el" href="classRakNet_1_1Replica2.html#2cca30967ddd2e5b8377a95b346d2317">Replica2::QueryConstruction()</a> that should currently be created on this system </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>replicaManager</em>&nbsp;</td><td>Which replica manager to use to perform the send </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="49aaa062d9125875d1240693e83f6c96"></a><!-- doxytag: member="RakNet::Connection_RM2::SetVisibilityByReplicaQuery" ref="49aaa062d9125875d1240693e83f6c96" args="(ReplicaManager2 *replicaManager)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RakNet::Connection_RM2::SetVisibilityByReplicaQuery           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakNet_1_1ReplicaManager2.html">ReplicaManager2</a> *&nbsp;</td>
          <td class="paramname"> <em>replicaManager</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Go through all registered <a class="el" href="classRakNet_1_1Replica2.html" title="Base class for game objects that use the ReplicaManager2 system.">Replica2</a> objects that do not return BQR_ALWAYS from <a class="el" href="classRakNet_1_1Replica2.html#04d509bba37494a2c0d76041b617dbcf">Replica2::QueryVisibility()</a> For each of these objects that return BQR_YES, pass them to currentVisibility in <a class="el" href="classRakNet_1_1Connection__RM2.html#0ed83e43ca006a9eaa371fa17e2a025a">SetVisibilityByList()</a> Automatically called every tick if <a class="el" href="classRakNet_1_1ReplicaManager2.html#0d48604d0e8d17220057c985903b162a">ReplicaManager2::SetAutoUpdateScope</a> with construction=true is called (which is the default) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>replicaManager</em>&nbsp;</td><td>Which replica manager to use to perform the send </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="23f646215720c7bcf0a3862e73fad780"></a><!-- doxytag: member="RakNet::Connection_RM2::SortInitialDownload" ref="23f646215720c7bcf0a3862e73fad780" args="(const DataStructures::List&lt; Replica2 * &gt; &amp;orderedDownloadList, DataStructures::List&lt; Replica2 * &gt; &amp;initialDownloadList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RakNet::Connection_RM2::SortInitialDownload           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDataStructures_1_1List.html">DataStructures::List</a>&lt; <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>orderedDownloadList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDataStructures_1_1List.html">DataStructures::List</a>&lt; <a class="el" href="classRakNet_1_1Replica2.html">Replica2</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>initialDownloadList</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
CALLBACK: Called before a download is sent to a new connection, called after ID_REPLICA_MANAGER_DOWNLOAD_STARTED is sent. Gives you control over the list of objects to be downloaded. For greater control, you can override ReplicaManager2::DownloadToNewConnection Defaults to send everything in the default order <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fullReplicaUnorderedList</em>&nbsp;</td><td>The list of all known objects in the order they were originally known about by the system (the first time used by any function) </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>orderedDownloadList</em>&nbsp;</td><td>An empty list. Copy fullReplicaUnorderedList to this list to send everything. Leave elements out to not send them. Add them to the list in a different order to send them in that order. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>d:/RakNet-3.x/Source/<a class="el" href="ReplicaManager2_8h.html">ReplicaManager2.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jul 22 08:28:36 2011 for RakNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
