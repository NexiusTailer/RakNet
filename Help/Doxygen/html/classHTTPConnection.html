<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RakNet: HTTPConnection Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>HTTPConnection Class Reference</h1><!-- doxytag: class="HTTPConnection" -->Use <a class="el" href="classHTTPConnection.html" title="Use HTTPConnection to communicate with a web server.">HTTPConnection</a> to communicate with a web server.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;HTTPConnection.h&gt;</code>
<p>

<p>
<a href="classHTTPConnection-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structHTTPConnection_1_1BadResponse.html">BadResponse</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Encapsulates a raw HTTP response and response code.  <a href="structHTTPConnection_1_1BadResponse.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#fe684f8bda290c32a6dd02335457243b">ResponseCodes</a> </td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c7f8e37cf3559452307739707d96bda1"></a><!-- doxytag: member="HTTPConnection::HTTPConnection" ref="c7f8e37cf3559452307739707d96bda1" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#c7f8e37cf3559452307739707d96bda1">HTTPConnection</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a HTTP object associated with this tcp connection. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#d800ca9bacd714f25320a4070106a0a5">Init</a> (TCPInterface *_tcp, const char *host, unsigned short port=80)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#20783e99693017d9d7ace4b6d0f76607">Post</a> (const char *path, const char *data, const char *_contentType=&quot;application/x-www-form-urlencoded&quot;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#b03943256cd48f9357332a742bdb94f6">Get</a> (const char *path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ab4a9bdef33b76152a3aafed40c54d54"></a><!-- doxytag: member="HTTPConnection::HasRead" ref="ab4a9bdef33b76152a3aafed40c54d54" args="(void) const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#ab4a9bdef33b76152a3aafed40c54d54">HasRead</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is there a Read result ready? <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#7c664366f8947d0dbf1877da5572b768">Read</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="31c562b108e106a73708909ace9e90dc"></a><!-- doxytag: member="HTTPConnection::Update" ref="31c562b108e106a73708909ace9e90dc" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#31c562b108e106a73708909ace9e90dc">Update</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Call periodically to do time-based updates. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9f83383c15cb832d7d2e132041ad9213"></a><!-- doxytag: member="HTTPConnection::GetServerAddress" ref="9f83383c15cb832d7d2e132041ad9213" args="(void) const " -->
<a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#9f83383c15cb832d7d2e132041ad9213">GetServerAddress</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the address of the server we are connected to. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#85cef5fec681f8b94e0fd97cd16fa9b7">ProcessTCPPacket</a> (<a class="el" href="structPacket.html">Packet</a> *packet)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="af2b8cc84a5a1dc3e35314b9e49515ed"></a><!-- doxytag: member="HTTPConnection::HasBadResponse" ref="af2b8cc84a5a1dc3e35314b9e49515ed" args="(int *code, RakNet::RakString *data)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#af2b8cc84a5a1dc3e35314b9e49515ed">HasBadResponse</a> (int *code, <a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a> *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Queued events of failed exchanges with the HTTP server. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4bbcc0f39656697713afccab0c8ac938"></a><!-- doxytag: member="HTTPConnection::IsBusy" ref="4bbcc0f39656697713afccab0c8ac938" args="(void) const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#4bbcc0f39656697713afccab0c8ac938">IsBusy</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns false if the connection is not doing anything else. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Use <a class="el" href="classHTTPConnection.html" title="Use HTTPConnection to communicate with a web server.">HTTPConnection</a> to communicate with a web server. 
<p>
Start an instance of TCPInterface via the Start() command. Instantiate a new instance of <a class="el" href="classHTTPConnection.html" title="Use HTTPConnection to communicate with a web server.">HTTPConnection</a>, and associate TCPInterface with the class in the constructor. Use <a class="el" href="classHTTPConnection.html#20783e99693017d9d7ace4b6d0f76607">Post()</a> to send commands to the web server, and ProcessDataPacket() to update the connection with packets returned from TCPInterface that have the system address of the web server This class will handle connecting and reconnecting as necessary.<p>
Note that only one <a class="el" href="classHTTPConnection.html#20783e99693017d9d7ace4b6d0f76607">Post()</a> can be handled at a time. <hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="fe684f8bda290c32a6dd02335457243b"></a><!-- doxytag: member="HTTPConnection::ResponseCodes" ref="fe684f8bda290c32a6dd02335457243b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classHTTPConnection.html#fe684f8bda290c32a6dd02335457243b">HTTPConnection::ResponseCodes</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Results of HTTP requests. Standard response codes are &lt; 999 ( define HTTP codes and our internal codes as needed ) 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b03943256cd48f9357332a742bdb94f6"></a><!-- doxytag: member="HTTPConnection::Get" ref="b03943256cd48f9357332a742bdb94f6" args="(const char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPConnection::Get           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a file from a webserver <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>the path on the remote server you want to GET from. For example "index.html" </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d800ca9bacd714f25320a4070106a0a5"></a><!-- doxytag: member="HTTPConnection::Init" ref="d800ca9bacd714f25320a4070106a0a5" args="(TCPInterface *_tcp, const char *host, unsigned short port=80)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPConnection::Init           </td>
          <td>(</td>
          <td class="paramtype">TCPInterface *&nbsp;</td>
          <td class="paramname"> <em>_tcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>port</em> = <code>80</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>tcp should already be started </dd></dl>

</div>
</div><p>
<a class="anchor" name="20783e99693017d9d7ace4b6d0f76607"></a><!-- doxytag: member="HTTPConnection::Post" ref="20783e99693017d9d7ace4b6d0f76607" args="(const char *path, const char *data, const char *_contentType=&quot;application/x&#45;www&#45;form&#45;urlencoded&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPConnection::Post           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>_contentType</em> = <code>&quot;application/x-www-form-urlencoded&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Submit data to the HTTP server HTTP only allows one request at a time per connection <dl class="pre" compact><dt><b>Precondition:</b></dt><dd><a class="el" href="classHTTPConnection.html#4bbcc0f39656697713afccab0c8ac938" title="Returns false if the connection is not doing anything else.">IsBusy()</a>==false </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>the path on the remote server you want to POST to. For example "index.html" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>A NULL terminated string to submit to the server</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>contentType</em>&nbsp;</td><td>"Content-Type:" passed to post. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="85cef5fec681f8b94e0fd97cd16fa9b7"></a><!-- doxytag: member="HTTPConnection::ProcessTCPPacket" ref="85cef5fec681f8b94e0fd97cd16fa9b7" args="(Packet *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPConnection::ProcessTCPPacket           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPacket.html">Packet</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an HTTP data packet returned from TCPInterface Returns true when we have gotten all the data from the HTTP server. If this returns true then it's safe to <a class="el" href="classHTTPConnection.html#20783e99693017d9d7ace4b6d0f76607">Post()</a> another request Deallocate the packet as usual via TCPInterface<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>NULL or a packet associated with our host and port </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="7c664366f8947d0dbf1877da5572b768"></a><!-- doxytag: member="HTTPConnection::Read" ref="7c664366f8947d0dbf1877da5572b768" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a> HTTPConnection::Read           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get one result from the server<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>HasResult must return true </dd></dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>d:/RakNet-3.x/Source/<a class="el" href="HTTPConnection_8h.html">HTTPConnection.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jul 22 08:28:34 2011 for RakNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
