<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RakNet: HTTPConnection Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>HTTPConnection Class Reference</h1><!-- doxytag: class="HTTPConnection" -->Use <a class="el" href="classHTTPConnection.html">HTTPConnection</a> to communicate with a web server. Start an instance of TCPInterface via the Start() command. Instantiate a new instance of <a class="el" href="classHTTPConnection.html">HTTPConnection</a>, and associate TCPInterface with the class in the constructor. Use <a class="el" href="classHTTPConnection.html#20783e99693017d9d7ace4b6d0f76607">Post()</a> to send commands to the web server, and ProcessDataPacket() to update the connection with packets returned from TCPInterface that have the system address of the web server This class will handle connecting and reconnecting as necessary.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;HTTPConnection.h&gt;</code>
<p>
<a href="classHTTPConnection-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#fe684f8bda290c32a6dd02335457243b">ResponseCodes</a> </td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#13bb0c2a1c6312d8e0aef0ac15299faa">HTTPConnection</a> (TCPInterface &amp;tcp, const char *host, unsigned short port=80)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#20783e99693017d9d7ace4b6d0f76607">Post</a> (const char *path, const char *data, const char *_contentType=&quot;application/x-www-form-urlencoded&quot;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>contentType</em>&nbsp;</td><td>"Content-Type:" passed to post. </td></tr>
  </table>
</dl>
 <a href="#20783e99693017d9d7ace4b6d0f76607"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#d2ed6a0fa6f6e625a6a1b03223cba860">Read</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="31c562b108e106a73708909ace9e90dc"></a><!-- doxytag: member="HTTPConnection::Update" ref="31c562b108e106a73708909ace9e90dc" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#31c562b108e106a73708909ace9e90dc">Update</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Call periodically to do time-based updates. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9f83383c15cb832d7d2e132041ad9213"></a><!-- doxytag: member="HTTPConnection::GetServerAddress" ref="9f83383c15cb832d7d2e132041ad9213" args="(void) const " -->
<a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#9f83383c15cb832d7d2e132041ad9213">GetServerAddress</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the address of the server we are connected to. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#6d12a35d08fed7c68ce806cf07e4ddfb">ProcessFinalTCPPacket</a> (<a class="el" href="structPacket.html">Packet</a> *packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><dl class="return" compact><dt><b>Returns:</b></dt><dd>true when all data from one <a class="el" href="classHTTPConnection.html#20783e99693017d9d7ace4b6d0f76607">Post()</a> has been read. </dd></dl>
 <a href="#6d12a35d08fed7c68ce806cf07e4ddfb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="af2b8cc84a5a1dc3e35314b9e49515ed"></a><!-- doxytag: member="HTTPConnection::HasBadResponse" ref="af2b8cc84a5a1dc3e35314b9e49515ed" args="(int *code, RakNet::RakString *data)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#af2b8cc84a5a1dc3e35314b9e49515ed">HasBadResponse</a> (int *code, <a class="el" href="classRakNet_1_1RakString.html">RakNet::RakString</a> *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Queued events of failed exchanges with the HTTP server. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4bbcc0f39656697713afccab0c8ac938"></a><!-- doxytag: member="HTTPConnection::IsBusy" ref="4bbcc0f39656697713afccab0c8ac938" args="(void) const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHTTPConnection.html#4bbcc0f39656697713afccab0c8ac938">IsBusy</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns false if the connection is not doing anything else. <br></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structHTTPConnection_1_1BadResponse.html">BadResponse</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Encapsulates a raw HTTP response and response code.  <a href="structHTTPConnection_1_1BadResponse.html#_details">More...</a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Use <a class="el" href="classHTTPConnection.html">HTTPConnection</a> to communicate with a web server. Start an instance of TCPInterface via the Start() command. Instantiate a new instance of <a class="el" href="classHTTPConnection.html">HTTPConnection</a>, and associate TCPInterface with the class in the constructor. Use <a class="el" href="classHTTPConnection.html#20783e99693017d9d7ace4b6d0f76607">Post()</a> to send commands to the web server, and ProcessDataPacket() to update the connection with packets returned from TCPInterface that have the system address of the web server This class will handle connecting and reconnecting as necessary. 
<p>
Note that only one <a class="el" href="classHTTPConnection.html#20783e99693017d9d7ace4b6d0f76607">Post()</a> can be handled at a time. 
<p>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="fe684f8bda290c32a6dd02335457243b"></a><!-- doxytag: member="HTTPConnection::ResponseCodes" ref="fe684f8bda290c32a6dd02335457243b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classHTTPConnection.html#fe684f8bda290c32a6dd02335457243b">HTTPConnection::ResponseCodes</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Results of HTTP requests. Standard response codes are &lt; 999 ( define HTTP codes and our internal codes as needed ) 
</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="13bb0c2a1c6312d8e0aef0ac15299faa"></a><!-- doxytag: member="HTTPConnection::HTTPConnection" ref="13bb0c2a1c6312d8e0aef0ac15299faa" args="(TCPInterface &amp;tcp, const char *host, unsigned short port=80)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HTTPConnection::HTTPConnection           </td>
          <td>(</td>
          <td class="paramtype">TCPInterface &amp;&nbsp;</td>
          <td class="paramname"> <em>tcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>port</em> = <code>80</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a HTTP object associated with this tcp connection <dl class="pre" compact><dt><b>Precondition:</b></dt><dd>tcp should already be started </dd></dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="20783e99693017d9d7ace4b6d0f76607"></a><!-- doxytag: member="HTTPConnection::Post" ref="20783e99693017d9d7ace4b6d0f76607" args="(const char *path, const char *data, const char *_contentType=&quot;application/x-www-form-urlencoded&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPConnection::Post           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>_contentType</em> = <code>&quot;application/x-www-form-urlencoded&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>contentType</em>&nbsp;</td><td>"Content-Type:" passed to post. </td></tr>
  </table>
</dl>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>the path on the remote server you want to POST to. For example "mywebpage/index.html" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>A NULL terminated string to submit to the server </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d2ed6a0fa6f6e625a6a1b03223cba860"></a><!-- doxytag: member="HTTPConnection::Read" ref="d2ed6a0fa6f6e625a6a1b03223cba860" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRakNet_1_1RakString.html">RakString</a> HTTPConnection::Read           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get data returned by the HTTP server If IsFinished()==false then this may be empty or a partial response. 
</div>
</div><p>
<a class="anchor" name="6d12a35d08fed7c68ce806cf07e4ddfb"></a><!-- doxytag: member="HTTPConnection::ProcessFinalTCPPacket" ref="6d12a35d08fed7c68ce806cf07e4ddfb" args="(Packet *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HTTPConnection::ProcessFinalTCPPacket           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPacket.html">Packet</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true when all data from one <a class="el" href="classHTTPConnection.html#20783e99693017d9d7ace4b6d0f76607">Post()</a> has been read. </dd></dl>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>NULL or a packet associated with our host and port </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/RakNet/Source/<a class="el" href="HTTPConnection_8h.html">HTTPConnection.h</a><li>C:/RakNet/Source/<a class="el" href="HTTPConnection_8cpp.html">HTTPConnection.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sun Jul 27 15:10:18 2008 for RakNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
