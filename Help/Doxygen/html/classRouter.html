<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>RakNet: Router Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Router Class Reference<br>
<small>
[<a class="el" href="group__ROUTER__GROUP.html">Router</a>]</small>
</h1><!-- doxytag: class="Router" --><!-- doxytag: inherits="PluginInterface2,RouterInterface" -->Used to route messages between peers.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;Router.h&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for Router:</div>
<div class="dynsection">

<p><center><img src="classRouter.png" usemap="#Router_map" border="0" alt=""></center>
<map name="Router_map">
<area href="classPluginInterface2.html" alt="PluginInterface2" shape="rect" coords="0,0,104,24">
<area href="classRouterInterface.html" alt="RouterInterface" shape="rect" coords="114,0,218,24">
</map>
</div>

<p>
<a href="classRouter-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRouter.html#b9fac3572f0e9867c845e796eb365627">SetRestrictRoutingByType</a> (bool restrict__)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRouter.html#792c4daf276fcc26b7590ff6d98bdae8">AddAllowedType</a> (unsigned char messageId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRouter.html#d35459336de5da739ae937592ed9c441">RemoveAllowedType</a> (unsigned char messageId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRouter.html#c12410c1d6b1aa6f38e90a79d8f2e6a3">SetConnectionGraph</a> (DataStructures::WeightedGraph&lt; <a class="el" href="structConnectionGraph_1_1SystemAddressAndGroupId.html">ConnectionGraph::SystemAddressAndGroupId</a>, unsigned short, false &gt; *connectionGraph)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRouter.html#eb8b2e9d705c5858a961a002e9921083">Send</a> (char *data, BitSize_t bitLength, <a class="el" href="PacketPriority_8h.html#659378374e516180f93640c79f59705c">PacketPriority</a> priority, <a class="el" href="PacketPriority_8h.html#e41fa01235e99dced384d137fa874a7e">PacketReliability</a> reliability, char orderingChannel, SystemAddressList *recipients)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRouter.html#5e818a93536635c9bfd5f3dc3a5964d6">OnAttach</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRouter.html#2ce45788e8586d4f20d17558790b440a">OnDetach</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g5ac73e41e819ce2fab41a083a2066ed6">PluginReceiveResult</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRouter.html#5d8624283e0806165da3c61e0f85a4f5">OnReceive</a> (<a class="el" href="structPacket.html">Packet</a> *packet)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Used to route messages between peers. 
<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000034">Deprecated:</a></b></dt><dd></dd></dl>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="792c4daf276fcc26b7590ff6d98bdae8"></a><!-- doxytag: member="Router::AddAllowedType" ref="792c4daf276fcc26b7590ff6d98bdae8" args="(unsigned char messageId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Router::AddAllowedType           </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>messageId</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If types are restricted, this adds an allowed message type to be routed <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>messageId</em>&nbsp;</td><td>The type to not allow routing of. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="5e818a93536635c9bfd5f3dc3a5964d6"></a><!-- doxytag: member="Router::OnAttach" ref="5e818a93536635c9bfd5f3dc3a5964d6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Router::OnAttach           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when the interface is attached <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>peer</em>&nbsp;</td><td>the instance of <a class="el" href="classRakPeer.html" title="Main interface for network communications.">RakPeer</a> that is calling Receive </td></tr>
  </table>
</dl>

<p>Reimplemented from <a class="el" href="classPluginInterface2.html#523fa43791dfc9c363d0d20e9609b177">PluginInterface2</a>.</p>

</div>
</div><p>
<a class="anchor" name="2ce45788e8586d4f20d17558790b440a"></a><!-- doxytag: member="Router::OnDetach" ref="2ce45788e8586d4f20d17558790b440a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Router::OnDetach           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when the interface is detached <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>peer</em>&nbsp;</td><td>the instance of <a class="el" href="classRakPeer.html" title="Main interface for network communications.">RakPeer</a> that is calling Receive </td></tr>
  </table>
</dl>

<p>Reimplemented from <a class="el" href="classPluginInterface2.html#017a96cb76e2462a320b570cc8877317">PluginInterface2</a>.</p>

</div>
</div><p>
<a class="anchor" name="5d8624283e0806165da3c61e0f85a4f5"></a><!-- doxytag: member="Router::OnReceive" ref="5d8624283e0806165da3c61e0f85a4f5" args="(Packet *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="group__PLUGIN__INTERFACE__GROUP.html#g5ac73e41e819ce2fab41a083a2066ed6">PluginReceiveResult</a> Router::OnReceive           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPacket.html">Packet</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
OnReceive is called for every packet. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packet</em>&nbsp;</td><td>the packet that is being returned to the user </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True to allow the game and other plugins to get this message, false to absorb it </dd></dl>

<p>Reimplemented from <a class="el" href="classPluginInterface2.html#bc50017a35682db5202a7562c58898ea">PluginInterface2</a>.</p>

</div>
</div><p>
<a class="anchor" name="d35459336de5da739ae937592ed9c441"></a><!-- doxytag: member="Router::RemoveAllowedType" ref="d35459336de5da739ae937592ed9c441" args="(unsigned char messageId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Router::RemoveAllowedType           </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>messageId</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes a restricted type previously added with AddRestrictedType <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>messageId</em>&nbsp;</td><td>The type to no longer restrict routing of. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="eb8b2e9d705c5858a961a002e9921083"></a><!-- doxytag: member="Router::Send" ref="eb8b2e9d705c5858a961a002e9921083" args="(char *data, BitSize_t bitLength, PacketPriority priority, PacketReliability reliability, char orderingChannel, SystemAddressList *recipients)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Router::Send           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BitSize_t&nbsp;</td>
          <td class="paramname"> <em>bitLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="PacketPriority_8h.html#659378374e516180f93640c79f59705c">PacketPriority</a>&nbsp;</td>
          <td class="paramname"> <em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="PacketPriority_8h.html#e41fa01235e99dced384d137fa874a7e">PacketReliability</a>&nbsp;</td>
          <td class="paramname"> <em>reliability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>orderingChannel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SystemAddressList *&nbsp;</td>
          <td class="paramname"> <em>recipients</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a bitstream to one or more systems. If multiple systems are specified, the message will be multicasted using a minimum spanning tree <dl class="pre" compact><dt><b>Precondition:</b></dt><dd>You just have called SetConnectionGraph with a valid graph representing the network topology </dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Single target sends from <a class="el" href="classRakPeer.html" title="Main interface for network communications.">RakPeer</a> with this plugin installed will also be routed. Sends from other plugins will also be routed as long as this plugin is attached first. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>The data to send </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bitLength</em>&nbsp;</td><td>How many bits long data is </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>priority</em>&nbsp;</td><td>What priority level to send on. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>reliability</em>&nbsp;</td><td>How reliability to send this data </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>orderingChannel</em>&nbsp;</td><td>When using ordered or sequenced packets, what channel to order these on.- Packets are only ordered relative to other packets on the same stream </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>recipients</em>&nbsp;</td><td>A list of recipients to send to. To send to one recipient, just pass a <a class="el" href="structSystemAddress.html" title="Network address for a system.">SystemAddress</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True on success, false mostly if the connection graph cannot find the destination. </dd></dl>

</div>
</div><p>
<a class="anchor" name="c12410c1d6b1aa6f38e90a79d8f2e6a3"></a><!-- doxytag: member="Router::SetConnectionGraph" ref="c12410c1d6b1aa6f38e90a79d8f2e6a3" args="(DataStructures::WeightedGraph&lt; ConnectionGraph::SystemAddressAndGroupId, unsigned short, false &gt; *connectionGraph)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Router::SetConnectionGraph           </td>
          <td>(</td>
          <td class="paramtype">DataStructures::WeightedGraph&lt; <a class="el" href="structConnectionGraph_1_1SystemAddressAndGroupId.html">ConnectionGraph::SystemAddressAndGroupId</a>, unsigned short, false &gt; *&nbsp;</td>
          <td class="paramname"> <em>connectionGraph</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the connection graph, which is a weighted graph of the topology of the network. You can easily get this from the <a class="el" href="classConnectionGraph.html" title="A connection graph. Each peer will know about all other peers.">ConnectionGraph</a> plugin. See the 'router' sample for usage. This is necessary if you want to send (not necessary just to route). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>connectionGraph</em>&nbsp;</td><td>A weighted graph representing the topology of the network. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b9fac3572f0e9867c845e796eb365627"></a><!-- doxytag: member="Router::SetRestrictRoutingByType" ref="b9fac3572f0e9867c845e796eb365627" args="(bool restrict__)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Router::SetRestrictRoutingByType           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>restrict__</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
We can restrict what kind of messages are routed by this plugin. This is useful for security, since you usually want to restrict what kind of messages you have to worry about from (as an example) other clients in a client / server system <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>restrict</em>&nbsp;</td><td>True to restrict what messages will be routed. False to not do so (default). </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>d:/RakNet-3.x/Source/<a class="el" href="Router_8h.html">Router.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jul 22 08:28:35 2011 for RakNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
